global
    log stdout format raw local0
    maxconn 256
    daemon
    # 使用 TCP socket 替代 UNIX socket，避免权限问题
    stats socket 0.0.0.0:9999 level admin

defaults
    log global
    option httplog
    option dontlognull
    timeout connect 5000
    timeout client  50000
    timeout server  50000

frontend llm_front
    bind *:8000
    default_backend vllm_backend

backend vllm_backend
    balance roundrobin
    # 两个后端 vLLM 服务
    server vllm_1 127.0.0.1:8008 check
    server vllm_2 127.0.0.1:8009 check
